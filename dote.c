#include <stdio.h>
#include <unistd.h>

    char gesso[16][16] = {
        {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
        {1, 9, 9, 9, 9, 9, 9, 9, 2, 2, 2, 3, 3, 3, 3, 1},
        {1, 9, 9, 9, 9, 9, 9, 9, 2, 2, 2, 2, 3, 3, 3, 1},
        {1, 9, 9, 9, 9, 9, 9, 9, 9, 2, 2, 2, 3, 3, 3, 1},
        {1, 9, 9, 9, 9, 9, 9, 9, 9, 9, 2, 2, 2, 3, 3, 1},
        {1, 9, 9, 9, 9, 9, 9, 9, 9, 9, 2, 2, 2, 3, 3, 1},
        {1, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 2, 2, 2, 3, 1},
        {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 3, 1},
        {1, 9, 9, 1, 1, 1, 1, 9, 9, 9, 9, 1, 1, 2, 2, 1},
        {1, 1, 9, 1, 1, 1, 1, 9, 1, 1, 9, 1, 1, 2, 2, 1},
        {1, 1, 9, 1, 1, 1, 1, 9, 1, 1, 9, 1, 1, 2, 2, 1},
        {1, 9, 9, 1, 1, 1, 1, 9, 9, 9, 9, 1, 1, 2, 2, 1},
        {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 3, 1},
        {1, 9, 9, 9, 9, 9, 9, 9, 9, 9, 2, 2, 2, 3, 3, 1},
        {1, 9, 9, 9, 9, 9, 9, 9, 9, 9, 2, 2, 2, 3, 3, 1},
        {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
    };

    char sleep_gesso[16][16] = {
        {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
        {1, 9, 9, 9, 9, 9, 9, 9, 2, 2, 2, 3, 3, 3, 3, 1},
        {1, 9, 9, 9, 9, 9, 9, 9, 2, 2, 2, 10, 10, 10, 10, 1},
        {1, 9, 9, 9, 9, 9, 9, 9, 9, 2, 2, 2, 3, 10, 3, 1},
        {1, 9, 9, 9, 9, 9, 9, 9, 9, 9, 2, 2, 10, 3, 3, 1},
        {1, 9, 9, 9, 9, 9, 9, 9, 9, 9, 2, 10, 10, 10, 10, 1},
        {1, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 2, 2, 2, 3, 1},
        {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 3, 1},
        {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1},
        {1, 1, 9, 1, 1, 1, 1, 9, 1, 1, 9, 1, 1, 2, 2, 1},
        {1, 9, 9, 1, 1, 1, 1, 9, 9, 9, 9, 1, 1, 2, 2, 1},
        {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 1},
        {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 3, 1},
        {1, 9, 9, 9, 9, 9, 9, 9, 9, 9, 2, 2, 2, 3, 3, 1},
        {1, 9, 9, 9, 9, 9, 9, 9, 9, 9, 2, 2, 2, 3, 3, 1},
        {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
    };

    char angry_gesso[16][16] = {
        {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
        {1, 9, 9, 9, 9, 9, 9, 9, 2, 2, 2, 3, 3, 3, 3, 1},
        {1, 9, 9, 9, 9, 9, 9, 9, 2, 2, 5, 2, 5, 3, 3, 1},
        {1, 9, 9, 9, 9, 9, 9, 9, 9, 5, 5, 2, 5, 5, 3, 1},
        {1, 9, 9, 9, 9, 9, 9, 9, 9, 9, 2, 2, 2, 3, 3, 1},
        {1, 9, 9, 9, 9, 9, 9, 9, 9, 5, 5, 2, 5, 5, 3, 1},
        {1, 9, 9, 9, 9, 9, 9, 9, 9, 9, 5, 2, 5, 2, 3, 1},
        {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 3, 1},
        {1, 1, 1, 1, 1, 1, 1, 1, 1, 9, 9, 1, 1, 2, 2, 1},
        {1, 9, 1, 1, 1, 1, 1, 1, 9, 1, 9, 1, 1, 2, 2, 1},
        {1, 1, 9, 1, 1, 1, 1, 9, 1, 1, 9, 1, 1, 2, 2, 1},
        {1, 9, 9, 1, 1, 1, 1, 9, 9, 9, 9, 1, 1, 2, 2, 1},
        {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 3, 1},
        {1, 9, 9, 9, 9, 9, 9, 9, 9, 9, 2, 2, 2, 3, 3, 1},
        {1, 9, 9, 9, 9, 9, 9, 9, 9, 9, 2, 2, 2, 3, 3, 1},
        {1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1},
    };

    int color(int x){
        if (x == 1) return 0;
        else if (x == 2) return 245;
        else if (x == 3) return 20;
        else if (x == 9) return 255;
        else if (x == 10) return 38;
        else if (x == 5) return 1;
        return x;
        }

    void dote(int k)
    {
        printf("\e[H\e[J\e[?7l");
        for(int i = 0; i < 16; i++){
            printf("%*s", k, "");
            for(int j = 0; j < 16; j++){
                int x = gesso[i][j];
                if(k % 3 == 1){
                    x = sleep_gesso[i][j];
                } else if(k % 3 == 2){
                    x = angry_gesso[i][j];
                }
                printf("\e[48;5;%dm", color(x));
                printf("  ");
                printf("\e[0m");
            }
            printf("\n");
        }
        usleep(100000);
    }

    void main(){
        for(int k = 0; k < 50; k++){
            dote(k);
        }
        for(int k = 50; k > 0; k--){
            dote(k);
        }
    }